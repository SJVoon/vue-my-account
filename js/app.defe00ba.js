(function(e){function t(t){for(var o,c,i=t[0],s=t[1],l=t[2],d=0,m=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&m.push(r[c][0]),r[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,i=1;i<a.length;i++){var s=a[i];0!==r[s]&&(o=!1)}o&&(n.splice(t--,1),e=c(c.s=a[0]))}return e}var o={},r={app:0},n=[];function c(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=o,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(a,o,function(t){return e[t]}.bind(null,o));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/vue-my-account/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0ace":function(e,t,a){},3638:function(e,t,a){"use strict";var o=a("b362"),r=a.n(o);r.a},"556f":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("b0c0"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("div",{staticClass:"d-flex align-center"},[a("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-logo-dark.png",transition:"scale-transition",width:"40"}}),a("v-img",{staticClass:"shrink mt-1 hidden-sm-and-down",attrs:{alt:"Vuetify Name",contain:"","min-width":"100",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-name-dark.png",width:"100"}})],1),a("v-spacer"),e.isLogin?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.onClickLogout()}}},[a("span",{staticClass:"mr-2"},[e._v("Logout")])]):a("div",[a("v-btn",{attrs:{text:""},on:{click:function(t){return e.onClickPushRoute("login")}}},[a("span",{staticClass:"mr-2"},[e._v("Login")])]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.onClickPushRoute("register")}}},[a("span",{staticClass:"mr-2"},[e._v("Register")])])],1)],1),a("router-view",{staticClass:"mt-12"})],1)},n=[],c=(a("ac1f"),a("5319"),{NAME:"store",get ACTIONS(){var e={FETCH_USER:"FETCH_USER"};return e},get GETTERS(){var e={USER:"USER",USER_ID:"USER_ID"};return e},get MUTATIONS(){var e={SET_USER_IS_LOGIN:"SET_USER_IS_LOGIN",SET_USER_DATA:"SET_USER_DATA",SET_USER_ID:"SET_USER_ID"};return e}}),i=c,s=(a("8aa5"),a("800b")),l={name:"App",computed:{isLogin:function(){return this.$store.getters["".concat(i.GETTERS.USER)].isLogin}},methods:{onClickPushRoute:function(e){this.$router.currentRoute.name!=e&&this.$router.push(e)},onClickLogout:function(){var e=this;s.auth.signOut().then((function(){e.$router.replace({name:"login"})}))}}},u=l,d=a("2877"),m=a("6544"),f=a.n(m),v=a("7496"),b=a("40dc"),p=a("8336"),h=a("adda"),y=a("2fa4"),g=Object(d["a"])(u,r,n,!1,null,null,null),T=g.exports;f()(g,{VApp:v["a"],VAppBar:b["a"],VBtn:p["a"],VImg:h["a"],VSpacer:y["a"]});var N=a("9483");Object(N["a"])("".concat("/vue-my-account/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("45fc");var V=a("8c4f"),C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"mx-auto mt-12",attrs:{"max-width":"344"}},[a("v-card-text",[a("h2",{staticClass:"mb-4"},[e._v("Register")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-text-field",{attrs:{label:"Name",required:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("v-text-field",{attrs:{label:"E-mail",required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),a("v-text-field",{attrs:{label:"Password",type:"password",required:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),a("v-btn",{staticClass:"mr-4",attrs:{color:"success"},on:{click:e.validate}},[e._v(" Register ")]),a("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.reset}},[e._v(" Reset ")]),e.error?a("v-alert",{staticClass:"mt-4",attrs:{dense:"",outlined:"",type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e()],1)],1)],1)],1)},E=[],k=a("b85c"),R=(a("96cf"),a("1da1")),S=a("800b"),A={data:function(){return{form:{name:"",email:"",password:""},error:null,defaultAccountList:[{accountName:"Cash",isVisible:!0},{accountName:"Bank",isVisible:!0},{accountName:"Card",isVisible:!0},{accountName:"Savings",isVisible:!0},{accountName:"Loan",isVisible:!0}],defaultCategoryList:[{categoryName:"Food",isVisible:!0},{categoryName:"Entertainment",isVisible:!0},{categoryName:"Housing",isVisible:!0},{categoryName:"Transportation",isVisible:!0},{categoryName:"Savings",isVisible:!0}]}},methods:{submit:function(){var e=this;S.auth.createUserWithEmailAndPassword(this.form.email,this.form.password).then((function(t){console.log(t),t.user.updateProfile({displayName:e.form.name}).then((function(){e.createAccountList(t.user.uid),e.createCategoryList(t.user.uid),e.$router.push({name:"login"})}))})).catch((function(t){e.error=t.message}))},createAccountList:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function a(){var o,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o=Object(k["a"])(t.defaultAccountList),a.prev=1,o.s();case 3:if((r=o.n()).done){a.next=9;break}return n=r.value,a.next=7,S.accountRef.child(e).push().set(n);case 7:a.next=3;break;case 9:a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](1),o.e(a.t0);case 14:return a.prev=14,o.f(),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[1,11,14,17]])})))()},createCategoryList:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function a(){var o,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o=Object(k["a"])(t.defaultCategoryList),a.prev=1,o.s();case 3:if((r=o.n()).done){a.next=9;break}return n=r.value,a.next=7,S.categoryRef.child(e).push().set(n);case 7:a.next=3;break;case 9:a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](1),o.e(a.t0);case 14:return a.prev=14,o.f(),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[1,11,14,17]])})))()},validate:function(){this.$refs.form.validate()&&this.submit()},reset:function(){this.$refs.form.reset()}}},x=A,I=a("0798"),O=a("b0af"),w=a("99d9"),F=a("a523"),L=a("4bd4"),D=a("8654"),$=Object(d["a"])(x,C,E,!1,null,null,null),M=$.exports;f()($,{VAlert:I["a"],VBtn:p["a"],VCard:O["a"],VCardText:w["a"],VContainer:F["a"],VForm:L["a"],VTextField:D["a"]});var U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"mx-auto mt-12",attrs:{"max-width":"344"}},[a("v-card-text",[a("h2",{staticClass:"mb-4"},[e._v("Login")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-text-field",{attrs:{label:"E-mail",required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),a("v-text-field",{attrs:{label:"Password",type:"password",required:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),a("v-btn",{staticClass:"mr-4",attrs:{color:"success"},on:{click:e.validate}},[e._v(" Login ")]),a("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.reset}},[e._v(" Reset ")]),e.error?a("v-alert",{staticClass:"mt-4",attrs:{dense:"",outlined:"",type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e()],1)],1)],1)],1)},j=[],P=a("800b"),z={data:function(){return{form:{email:"",password:""},error:null}},methods:{submit:function(){var e=this;P.auth.signInWithEmailAndPassword(this.form.email,this.form.password).then((function(t){e.$router.replace({name:"dashboard"})})).catch((function(t){e.error=t.message}))},validate:function(){this.$refs.form.validate()&&this.submit()},reset:function(){this.$refs.form.reset()}}},q=z,G=Object(d["a"])(q,U,j,!1,null,null,null),Y=G.exports;f()(G,{VAlert:I["a"],VBtn:p["a"],VCard:O["a"],VCardText:w["a"],VContainer:F["a"],VForm:L["a"],VTextField:D["a"]});var B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{staticClass:"ma-4",attrs:{justify:"start"}},[a("v-col",{attrs:{cols:"2"}},[a("v-btn",{on:{click:function(t){e.openModal=!0}}},[e._v("Create Transaction")])],1),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{on:{click:function(t){e.openModalAccount=!0}}},[e._v("Customize Account")])],1),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{on:{click:function(t){e.openModalCategory=!0}}},[e._v("Customize Category")])],1)],1),a("v-row",{staticClass:"ma-4"},[a("v-col",{attrs:{cols:"10"}},[a("v-card",[a("v-card-title",[e._v(" Money In (RM) "),a("v-spacer"),e._v(" Money Out (RM) "),a("v-spacer"),e._v(" Balance (RM) ")],1),a("v-card-title",[e._v(" "+e._s(e.transactionsTypeAmt.moneyIn)+" "),a("v-spacer"),e._v(" "+e._s(e.transactionsTypeAmt.moneyOut)+" "),a("v-spacer"),e._v(" "+e._s(e.transactionsTypeAmt.balance)+" ")],1)],1)],1),a("v-col",{attrs:{cols:"10"}},[a("v-card",[a("v-card-title",[e._v(" Transaction History "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.searchKeyword,callback:function(t){e.searchKeyword=t},expression:"searchKeyword"}})],1),[a("v-data-table",{attrs:{headers:e.headers,items:e.transactionsList,search:e.searchKeyword},scopedSlots:e._u([{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(o)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(o)}}},[e._v(" mdi-delete ")])]}}])})]],2)],1)],1),a("v-overlay",{attrs:{value:e.openModal}},[e.openModal?a("CreateTransaction",{on:{close:e.closeModal}}):e._e()],1),a("v-overlay",{attrs:{value:e.openModalAccount}},[e.openModalAccount?a("CustomizeAccount",{on:{close:e.closeModalAccount}}):e._e()],1),a("v-overlay",{attrs:{value:e.openModalCategory}},[e.openModalCategory?a("CustomizeCategory",{on:{close:e.closeModalCategory}}):e._e()],1),a("v-overlay",{attrs:{value:e.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},H=[],K=(a("4160"),a("a9e3"),a("b64b"),a("07ac"),a("159b"),a("2ef0")),J=a.n(K),W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"container"},[a("h2",[e._v("Add New Transaction")]),a("v-tabs",{attrs:{"background-color":"primary",dark:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab",[e._v("Money In")]),a("v-tab",[e._v("Money Out")]),a("v-tab",[e._v("Transfer")])],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.formType,(function(t){return a("v-tab-item",{key:t,staticClass:"pa-4"},[a("v-form",{ref:t,refInFor:!0,attrs:{"lazy-validation":""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Date",readonly:""},model:{value:e.form.date.fieldValue,callback:function(t){e.$set(e.form.date,"fieldValue",t)},expression:"form.date.fieldValue"}},"v-text-field",r,!1),o))]}}],null,!0),model:{value:e.isOpenDatePicker,callback:function(t){e.isOpenDatePicker=t},expression:"isOpenDatePicker"}},[a("v-date-picker",{on:{input:function(t){e.isOpenDatePicker=!1}},model:{value:e.form.date.fieldValue,callback:function(t){e.$set(e.form.date,"fieldValue",t)},expression:"form.date.fieldValue"}})],1),2!=e.tab?a("v-select",{attrs:{label:"Account",items:e.accountList,"item-value":"id","item-text":"accountName",rules:e.form.account.rules},model:{value:e.form.account.fieldValue,callback:function(t){e.$set(e.form.account,"fieldValue",t)},expression:"form.account.fieldValue"}}):e._e(),2!=e.tab?a("v-select",{attrs:{label:"Category",items:e.categoryList,"item-value":"id","item-text":"categoryName",rules:e.form.category.rules},model:{value:e.form.category.fieldValue,callback:function(t){e.$set(e.form.category,"fieldValue",t)},expression:"form.category.fieldValue"}}):e._e(),2==e.tab?a("v-select",{attrs:{label:"Account From",items:e.accountList,"item-value":"id","item-text":"accountName",rules:e.form.accountFrom.rules},model:{value:e.form.accountFrom.fieldValue,callback:function(t){e.$set(e.form.accountFrom,"fieldValue",t)},expression:"form.accountFrom.fieldValue"}}):e._e(),2==e.tab?a("v-select",{attrs:{label:"Account To",items:e.accountList,"item-value":"id","item-text":"accountName",rules:e.form.accountTo.rules},model:{value:e.form.accountTo.fieldValue,callback:function(t){e.$set(e.form.accountTo,"fieldValue",t)},expression:"form.accountTo.fieldValue"}}):e._e(),a("v-text-field",{attrs:{label:"Amount",rules:e.form.amount.rules},model:{value:e.form.amount.fieldValue,callback:function(t){e.$set(e.form.amount,"fieldValue",t)},expression:"form.amount.fieldValue"}}),a("v-text-field",{attrs:{label:"Content",rules:e.form.content.rules},model:{value:e.form.content.fieldValue,callback:function(t){e.$set(e.form.content,"fieldValue",t)},expression:"form.content.fieldValue"}})],1)],1)})),1),a("v-btn",{attrs:{color:"blue darken-3"},on:{click:e.save}},[e._v("Save")]),a("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.close(!1)}}},[e._v("Close")])],1)},Z=[],Q={TRANSACTION_TYPE_MONEY_IN:"money-in",TRANSACTION_TYPE_MONEY_OUT:"money-out",TRANSACTION_TYPE_TRANSFER:"transfer"},X=Q,ee={required:function(e){return!!e||"This field is required!"},isNumber:function(e){return!isNaN(e)||"Must be in numberic!"}},te=ee,ae=a("800b"),oe={displayName:function(){return this.$store.getters["".concat(i.GETTERS.USER)].data.displayName},userId:function(){return this.$store.getters["".concat(i.GETTERS.USER_ID)]}},re=function(){return{form:{account:{fieldValue:"",rules:[te.required]},accountFrom:{fieldValue:"",rules:[te.required]},accountTo:{fieldValue:"",rules:[te.required,this.accountToCustomRule]},amount:{fieldValue:"",rules:[te.required,te.isNumber]},category:{fieldValue:"",rules:[te.required]},content:{fieldValue:"",rules:[]},date:{fieldValue:(new Date).toISOString().substr(0,10),rules:[te.required]},type:""},formType:["form0","form1","form2"],isOpenDatePicker:!1,tab:0,accountList:[],categoryList:[]}},ne={close:function(e){this.$emit("close",e)},accountToCustomRule:function(e){return e!==this.form.accountFrom.fieldValue||"Cannot be same as account from"},save:function(){var e=this.formType[this.tab];if(this.$refs[e][0].validate()){var t=this.mapFormToDatabase();ae.transactionsRef.child(this.userId).push().set(t),this.close(!0)}},mapFormToDatabase:function(){var e=this.form,t=this.tab;return 0==t||1==t?{account:e.account.fieldValue,amount:e.amount.fieldValue,category:e.category.fieldValue,content:e.content.fieldValue,date:e.date.fieldValue,type:0==t?X.TRANSACTION_TYPE_MONEY_IN:X.TRANSACTION_TYPE_MONEY_OUT}:{accountFrom:e.accountFrom.fieldValue,accountTo:e.accountTo.fieldValue,amount:e.amount.fieldValue,content:e.content.fieldValue,date:e.date.fieldValue,type:X.TRANSACTION_TYPE_TRANSFER}},getDataFromFirebase:function(){var e=this;ae.accountRef.child(e.userId).once("value",(function(t){var a=_.cloneDeep(t.val());Object.keys(a).forEach((function(t){var o={id:t,accountName:a[t].accountName,isVisible:a[t].isVisible};o.isVisible&&e.accountList.push(o)}))}),(function(e){console.log("The read failed: "+e.code)})),ae.categoryRef.child(e.userId).once("value",(function(t){var a=_.cloneDeep(t.val());Object.keys(a).forEach((function(t){var o={id:t,categoryName:a[t].categoryName,isVisible:a[t].isVisible};o.isVisible&&e.categoryList.push(o)}))}),(function(e){console.log("The read failed: "+e.code)}))}},ce=function(){var e=this;e.getDataFromFirebase()},ie={},se={name:"CreateTransaction",computed:oe,data:re,methods:ne,mounted:ce,watch:ie},le=se,ue=(a("d99d"),a("2e4b")),de=a("e449"),me=a("b974"),fe=a("71a3"),ve=a("c671"),be=a("fe57"),pe=a("aac8"),he=Object(d["a"])(le,W,Z,!1,null,"c85e4548",null),ye=he.exports;f()(he,{VBtn:p["a"],VContainer:F["a"],VDatePicker:ue["a"],VForm:L["a"],VMenu:de["a"],VSelect:me["a"],VTab:fe["a"],VTabItem:ve["a"],VTabs:be["a"],VTabsItems:pe["a"],VTextField:D["a"]});var ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"container"},[a("h2",[e._v("Customize Your Account")]),a("v-tabs",{attrs:{"background-color":"primary",dark:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab",[e._v("Add New Account")]),a("v-tab",[e._v("Edit Account")]),a("v-tab",[e._v("Delete Account")])],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{staticClass:"pa-4"},[a("v-form",{ref:"tab0",attrs:{"lazy-validation":""}},[a("v-text-field",{attrs:{label:"Account Name",rules:e.form0.accountName.rules},model:{value:e.form0.accountName.fieldValue,callback:function(t){e.$set(e.form0.accountName,"fieldValue",t)},expression:"form0.accountName.fieldValue"}})],1),a("v-btn",{attrs:{color:"blue darken-3"},on:{click:e.addNew}},[e._v("Save")]),a("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.close(!0)}}},[e._v("Close")])],1),a("v-tab-item",{staticClass:"pa-4"},[a("v-form",{ref:"tab1",attrs:{"lazy-validation":""}},[a("v-select",{attrs:{label:"Choose an existing account",items:e.accountList,"item-value":"id","item-text":"accountName"},model:{value:e.form1.selectedId,callback:function(t){e.$set(e.form1,"selectedId",t)},expression:"form1.selectedId"}}),a("v-text-field",{attrs:{label:"New Account Name",rules:e.form1.accountName.rules},model:{value:e.form1.accountName.fieldValue,callback:function(t){e.$set(e.form1.accountName,"fieldValue",t)},expression:"form1.accountName.fieldValue"}})],1),a("v-btn",{attrs:{color:"blue darken-3"},on:{click:e.addEdit}},[e._v("Save")]),a("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.close(!0)}}},[e._v("Close")])],1),a("v-tab-item",{staticClass:"pa-4"},[a("v-form",{ref:"tab2",attrs:{"lazy-validation":""}},[a("v-select",{attrs:{label:"Choose an existing account",items:e.accountList,"item-value":"id","item-text":"accountName"},model:{value:e.form2.selectedId,callback:function(t){e.$set(e.form2,"selectedId",t)},expression:"form2.selectedId"}})],1),a("v-btn",{attrs:{color:"blue darken-3"},on:{click:e.del}},[e._v("Delete")]),a("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.close(!0)}}},[e._v("Close")])],1)],1)],1)},Te=[],Ne=(a("7db0"),a("800b")),_e={displayName:function(){return this.$store.getters["".concat(i.GETTERS.USER)].data.displayName},userId:function(){return this.$store.getters["".concat(i.GETTERS.USER_ID)]}},Ve=function(){return{form0:{accountName:{fieldValue:"",rules:[te.required,this.customizeRule]}},form1:{selectedId:"",accountName:{fieldValue:"",rules:[te.required,this.customizeRule]}},form2:{selectedId:""},accountList:[],tab:0}},Ce={close:function(e){this.$emit("close",e)},addNew:function(){var e=this;if(e.$refs["tab0"].validate()){var t=e.mapFormToDatabaseFormat(e.form0.accountName.fieldValue,!0);Ne.accountRef.child(e.userId).push().set(t).then((function(){e.cleanForm(),e.getAccountListFromDatabase()}))}},addEdit:function(){var e=this;if(e.$refs["tab1"].validate()){var t=e.mapFormToDatabaseFormat(e.form1.accountName.fieldValue,!0);Ne.accountRef.child(e.userId).child(e.form1.selectedId).update(t).then((function(){e.cleanForm(),e.getAccountListFromDatabase()}))}},del:function(){var e=this,t=window.confirm("Are you sure you want to delete this account?");if(t){var a=e.accountList.find((function(t){return t.id===e.form2.selectedId})),o=e.mapFormToDatabaseFormat(a.accountName,!1);Ne.accountRef.child(e.userId).child(a.id).update(o).then((function(){e.cleanForm(),e.getAccountListFromDatabase()}))}},customizeRule:function(e){var t,a,o=Object(k["a"])(this.accountList);try{for(o.s();!(a=o.n()).done;)if(t=a.value,t.accountName===e)return"Account Name already exist!"}catch(r){o.e(r)}finally{o.f()}return!0},cleanForm:function(){var e=this;e.form0.accountName.fieldValue="",e.form1.accountName.fieldValue=""},mapFormToDatabaseFormat:function(e,t){return{accountName:e,isVisible:t}},getAccountListFromDatabase:function(){var e=this;e.accountList=[],Ne.accountRef.child(e.userId).once("value",(function(t){var a=_.cloneDeep(t.val());Object.keys(a).forEach((function(t){var o={id:t,accountName:a[t].accountName,isVisible:a[t].isVisible};o.isVisible&&e.accountList.push(o)}))}),(function(e){console.log("The read failed: "+e.code)}))}},Ee=function(){this.getAccountListFromDatabase()},ke={},Re={name:"CustomizeAccount",computed:_e,data:Ve,methods:Ce,mounted:Ee,watch:ke},Se=Re,Ae=(a("8be3"),Object(d["a"])(Se,ge,Te,!1,null,"461564a3",null)),xe=Ae.exports;f()(Ae,{VBtn:p["a"],VContainer:F["a"],VForm:L["a"],VSelect:me["a"],VTab:fe["a"],VTabItem:ve["a"],VTabs:be["a"],VTabsItems:pe["a"],VTextField:D["a"]});var Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"container"},[a("h2",[e._v("Customize Your Category")]),a("v-tabs",{attrs:{"background-color":"primary",dark:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab",[e._v("Add New Category")]),a("v-tab",[e._v("Edit Category")]),a("v-tab",[e._v("Delete Category")])],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{staticClass:"pa-4"},[a("v-form",{ref:"tab0",attrs:{"lazy-validation":""}},[a("v-text-field",{attrs:{label:"Category Name",rules:e.form0.categoryName.rules},model:{value:e.form0.categoryName.fieldValue,callback:function(t){e.$set(e.form0.categoryName,"fieldValue",t)},expression:"form0.categoryName.fieldValue"}})],1),a("v-btn",{attrs:{color:"blue darken-3"},on:{click:e.addNew}},[e._v("Save")]),a("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.close(!0)}}},[e._v("Close")])],1),a("v-tab-item",{staticClass:"pa-4"},[a("v-form",{ref:"tab1",attrs:{"lazy-validation":""}},[a("v-select",{attrs:{label:"Choose an existing category",items:e.categoryList,"item-value":"id","item-text":"categoryName"},model:{value:e.form1.selectedId,callback:function(t){e.$set(e.form1,"selectedId",t)},expression:"form1.selectedId"}}),a("v-text-field",{attrs:{label:"New Category Name",rules:e.form1.categoryName.rules},model:{value:e.form1.categoryName.fieldValue,callback:function(t){e.$set(e.form1.categoryName,"fieldValue",t)},expression:"form1.categoryName.fieldValue"}})],1),a("v-btn",{attrs:{color:"blue darken-3"},on:{click:e.addEdit}},[e._v("Save")]),a("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.close(!0)}}},[e._v("Close")])],1),a("v-tab-item",{staticClass:"pa-4"},[a("v-form",{ref:"tab2",attrs:{"lazy-validation":""}},[a("v-select",{attrs:{label:"Choose an existing category",items:e.categoryList,"item-value":"id","item-text":"categoryName"},model:{value:e.form2.selectedId,callback:function(t){e.$set(e.form2,"selectedId",t)},expression:"form2.selectedId"}})],1),a("v-btn",{attrs:{color:"blue darken-3"},on:{click:e.del}},[e._v("Delete")]),a("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.close(!0)}}},[e._v("Close")])],1)],1)],1)},Oe=[],we=a("800b"),Fe={displayName:function(){return this.$store.getters["".concat(i.GETTERS.USER)].data.displayName},userId:function(){return this.$store.getters["".concat(i.GETTERS.USER_ID)]}},Le=function(){return{form0:{categoryName:{fieldValue:"",rules:[te.required,this.customizeRule]}},form1:{selectedId:"",categoryName:{fieldValue:"",rules:[te.required,this.customizeRule]}},form2:{selectedId:""},categoryList:[],tab:0}},De={close:function(e){this.$emit("close",e)},addNew:function(){var e=this;if(e.$refs["tab0"].validate()){var t=e.mapFormToDatabaseFormat(e.form0.categoryName.fieldValue,!0);we.categoryRef.child(e.userId).push().set(t).then((function(){e.cleanForm(),e.getCategoryListFromDatabase()}))}},addEdit:function(){var e=this;if(e.$refs["tab1"].validate()){var t=e.mapFormToDatabaseFormat(e.form1.categoryName.fieldValue,!0);we.categoryRef.child(e.userId).child(e.form1.selectedId).update(t).then((function(){e.cleanForm(),e.getCategoryListFromDatabase()}))}},del:function(){var e=this,t=window.confirm("Are you sure you want to delete this category?");if(t){var a=e.categoryList.find((function(t){return t.id===e.form2.selectedId})),o=e.mapFormToDatabaseFormat(a.categoryName,!1);we.categoryRef.child(e.userId).child(a.id).update(o).then((function(){e.cleanForm(),e.getCategoryListFromDatabase()}))}},customizeRule:function(e){var t,a,o=Object(k["a"])(this.categoryList);try{for(o.s();!(a=o.n()).done;)if(t=a.value,t.categoryName===e)return"Category Name already exist!"}catch(r){o.e(r)}finally{o.f()}return!0},cleanForm:function(){var e=this;e.form0.categoryName.fieldValue="",e.form1.categoryName.fieldValue=""},mapFormToDatabaseFormat:function(e,t){return{categoryName:e,isVisible:t}},getCategoryListFromDatabase:function(){var e=this;e.categoryList=[],we.categoryRef.child(e.userId).once("value",(function(t){var a=_.cloneDeep(t.val());Object.keys(a).forEach((function(t){var o={id:t,categoryName:a[t].categoryName,isVisible:a[t].isVisible};o.isVisible&&e.categoryList.push(o)}))}),(function(e){console.log("The read failed: "+e.code)}))}},$e=function(){this.getCategoryListFromDatabase()},Me={},Ue={name:"CustomizeCategory",computed:Fe,data:Le,methods:De,mounted:$e,watch:Me},je=Ue,Pe=(a("f50b"),Object(d["a"])(je,Ie,Oe,!1,null,"35415efb",null)),ze=Pe.exports;f()(Pe,{VBtn:p["a"],VContainer:F["a"],VForm:L["a"],VSelect:me["a"],VTab:fe["a"],VTabItem:ve["a"],VTabs:be["a"],VTabsItems:pe["a"],VTextField:D["a"]});var qe=a("800b"),Ge={CreateTransaction:ye,CustomizeAccount:xe,CustomizeCategory:ze},Ye={displayName:function(){return console.log(this.$store.getters["".concat(i.GETTERS.USER)].data),this.$store.getters["".concat(i.GETTERS.USER)].data.displayName},userId:function(){return this.$store.getters["".concat(i.GETTERS.USER_ID)]}},Be=function(){return{openModal:!1,openModalAccount:!1,openModalCategory:!1,overlay:!1,searchKeyword:"",transactionsTypeAmt:{moneyIn:0,moneyOut:0,balance:0},headers:[{text:"Content",align:"start",sortable:!1,value:"content"},{text:"Date",value:"date"},{text:"Type",value:"type"},{text:"Category",value:"category"},{text:"Amount(RM)",value:"amount"},{text:"Account",value:"account"}],transactionsList:[],accountList:[],categoryList:[]}},He={closeModal:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.openModal=!1,!e){a.next=4;break}return a.next=4,t.loadTransactions();case 4:case"end":return a.stop()}}),a)})))()},closeModalAccount:function(){this.openModalAccount=!1},closeModalCategory:function(){this.openModalCategory=!1},editItem:function(e){console.log(e)},deleteItem:function(e){console.log(e)},computeTransactionTypeAmt:function(e){var t=this;e.type===X.TRANSACTION_TYPE_MONEY_IN?t.transactionsTypeAmt.moneyIn+=Number(e.amount):e.type===X.TRANSACTION_TYPE_MONEY_OUT&&(t.transactionsTypeAmt.moneyOut+=Number(e.amount)),t.transactionsTypeAmt.balance=t.transactionsTypeAmt.moneyIn-t.transactionsTypeAmt.moneyOut},mapFirebaseDataToModel:function(e){return{account:e.type===X.TRANSACTION_TYPE_TRANSFER?this.checkAccountName(e.accountFrom)+" -> "+this.checkAccountName(e.accountTo):this.checkAccountName(e.account),amount:e.amount,category:e.type===X.TRANSACTION_TYPE_TRANSFER?"-":this.checkCategoryName(e.category),content:e.content,date:e.date,type:e.type}},checkAccountName:function(e){var t,a=Object(k["a"])(this.accountList);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o.id===e)return o.accountName}}catch(r){a.e(r)}finally{a.f()}},checkCategoryName:function(e){var t,a=Object(k["a"])(this.categoryList);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o.id===e)return o.categoryName}}catch(r){a.e(r)}finally{a.f()}},loadTransactions:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,a.transactionsList=[],a.transactionsTypeAmt={moneyIn:0,moneyOut:0,balance:0},a.overlay=!0,t.next=5,qe.transactionsRef.child(a.userId).once("value",(function(e){var t=J.a.cloneDeep(e.val());t&&Object.values(t).forEach((function(e){a.computeTransactionTypeAmt(e),a.transactionsList.push(a.mapFirebaseDataToModel(e))})),a.overlay=!1}),(function(e){console.log("The read failed: "+e.code)}));case 5:case"end":return t.stop()}}),t)})))()},getDataFromFirebase:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,t.next=3,qe.accountRef.child(a.userId).once("value",(function(e){var t=J.a.cloneDeep(e.val());Object.keys(t).forEach((function(e){var o={id:e,accountName:t[e].accountName,isVisible:t[e].isVisible};a.accountList.push(o)}))}),(function(e){console.log("The read failed: "+e.code)}));case 3:return t.next=5,qe.categoryRef.child(a.userId).once("value",(function(e){var t=J.a.cloneDeep(e.val());Object.keys(t).forEach((function(e){var o={id:e,categoryName:t[e].categoryName,isVisible:t[e].isVisible};a.categoryList.push(o)})),console.log(a.categoryList)}),(function(e){console.log("The read failed: "+e.code)}));case 5:case"end":return t.stop()}}),t)})))()}},Ke=function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getDataFromFirebase();case 2:return e.next=4,this.loadTransactions();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),Je={},We={components:Ge,computed:Ye,data:Be,methods:He,mounted:Ke,watch:Je},Ze=We,Qe=(a("3638"),a("62ad")),Xe=a("8fea"),et=a("132d"),tt=a("a797"),at=a("490a"),ot=a("0fd9"),rt=Object(d["a"])(Ze,B,H,!1,null,"9757a332",null),nt=rt.exports;f()(rt,{VBtn:p["a"],VCard:O["a"],VCardTitle:w["b"],VCol:Qe["a"],VContainer:F["a"],VDataTable:Xe["a"],VIcon:et["a"],VOverlay:tt["a"],VProgressCircular:at["a"],VRow:ot["a"],VSpacer:y["a"],VTextField:D["a"]});var ct=a("800b");o["a"].use(V["a"]);var it=[{path:"*",redirect:"/"},{path:"/",name:"login",component:Y},{path:"/register",name:"register",component:M},{path:"/dashboard",name:"dashboard",component:nt,meta:{requiresAuth:!0}}],st=new V["a"]({mode:"history",base:"/vue-my-account/",routes:it});st.beforeEach((function(e,t,a){var o=e.matched.some((function(e){return e.meta.requiresAuth})),r=ct.auth.currentUser;o&&!r?a("/"):a()}));var lt,ut,dt=st,mt=a("2f62"),ft=a("ade3"),vt=Object(ft["a"])({},i.ACTIONS.FETCH_USER,(function(e,t){var a=e.commit;a(i.MUTATIONS.SET_USER_IS_LOGIN,null!==t),t?(a(i.MUTATIONS.SET_USER_DATA,{displayName:t.displayName,email:t.email}),a(i.MUTATIONS.SET_USER_ID,t.uid)):(a(i.MUTATIONS.SET_USER_DATA,null),a(i.MUTATIONS.SET_USER_ID,""))})),bt=vt,pt=(lt={},Object(ft["a"])(lt,i.GETTERS.USER,(function(e){return J.a.get(e,"user")})),Object(ft["a"])(lt,i.GETTERS.USER_ID,(function(e){return J.a.get(e,"user.id")})),lt),ht=pt,yt=(ut={},Object(ft["a"])(ut,i.MUTATIONS.SET_USER_IS_LOGIN,(function(e,t){e.user.isLogin=t})),Object(ft["a"])(ut,i.MUTATIONS.SET_USER_DATA,(function(e,t){e.user.data=t})),Object(ft["a"])(ut,i.MUTATIONS.SET_USER_ID,(function(e,t){e.user.id=t})),ut),gt=yt,Tt={isLogin:!1,id:"",data:null},Nt={user:Tt},_t=Nt;o["a"].use(mt["a"]);var Vt=new mt["a"].Store({name:i.NAME,actions:bt,getters:ht,mutations:gt,state:_t}),Ct=a("f309");o["a"].use(Ct["a"]);var Et=new Ct["a"]({}),kt=a("800b");o["a"].config.productionTip=!1,kt.auth.onAuthStateChanged((function(e){"register"!=dt.currentRoute.name&&Vt.dispatch("".concat(i.ACTIONS.FETCH_USER),e)})),new o["a"]({router:dt,store:Vt,vuetify:Et,render:function(e){return e(T)}}).$mount("#app")},5881:function(e,t,a){},"800b":function(e,t,a){"use strict";a.r(t),a.d(t,"db",(function(){return i})),a.d(t,"auth",(function(){return s})),a.d(t,"currentUser",(function(){return l})),a.d(t,"transactionsRef",(function(){return u})),a.d(t,"categoryRef",(function(){return m})),a.d(t,"accountRef",(function(){return d}));var o=a("59ca"),r=a.n(o),n=(a("66ce"),{apiKey:"AIzaSyD6H62aF-rShCTm2VZt5kv9HuTRKLkubM8",authDomain:"vue-my-account.firebaseapp.com",databaseURL:"https://vue-my-account.firebaseio.com",projectId:"vue-my-account",storageBucket:"vue-my-account.appspot.com",messagingSenderId:"592086333071",appId:"1:592086333071:web:ba534251b68dc450f322fa",measurementId:"G-NZG4B2E62N"}),c=r.a.initializeApp(n),i=c.database(),s=c.auth(),l=s.currentUser,u=i.ref("transactions"),d=i.ref("account"),m=i.ref("category")},"8be3":function(e,t,a){"use strict";var o=a("0ace"),r=a.n(o);r.a},b362:function(e,t,a){},d99d:function(e,t,a){"use strict";var o=a("5881"),r=a.n(o);r.a},f50b:function(e,t,a){"use strict";var o=a("556f"),r=a.n(o);r.a}});
//# sourceMappingURL=app.defe00ba.js.map